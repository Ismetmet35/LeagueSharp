

            E = new Spell(SpellSlot.E);
            Game.OnGameSendPacket += Game_OnGameSendPacket;
            Game.OnGameUpdate += Game_OnGameUpdate;

            Console.WriteLine("Loaded");
        }

        private static void Game_OnGameUpdate(System.EventArgs args)
        {
            if (Menu.Item("Key").GetValue<KeyBind>().Active && Target != null && !Target.IsDead && E.IsReady() &&
                Environment.TickCount - LastCast > 60)
            {
                Console.WriteLine("Cast");
                E.CastOnUnit(Target, true);
                LastCast = Environment.TickCount;
            }
        }

        private static void Game_OnGameSendPacket(GamePacketEventArgs args)
        {
            if (args.PacketData[0] != Packet.C2S.SetTarget.Header)
            {
                return;
            }

            var decoded = Packet.C2S.SetTarget.Decoded(args.PacketData);

            if (decoded.NetworkId != 0 && decoded.Unit.IsValid && !decoded.Unit.IsMe)
            {
                Console.WriteLine("Set Target: " + decoded.Unit.Name);
                Target = decoded.Unit;
            }
        }
    }
}
